{"ast":null,"code":"export const notificationService = {\n  async requestPermission() {\n    if (!('Notification' in window)) {\n      console.log('Deze browser ondersteunt geen notificaties');\n      return false;\n    }\n    if (Notification.permission === 'granted') {\n      return true;\n    }\n    if (Notification.permission !== 'denied') {\n      const permission = await Notification.requestPermission();\n      return permission === 'granted';\n    }\n    return false;\n  },\n  async scheduleReminder(time) {\n    const hasPermission = await this.requestPermission();\n    if (!hasPermission) return;\n    const [hours, minutes] = time.split(':').map(Number);\n    const now = new Date();\n    const reminderTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes);\n\n    // Als de tijd al voorbij is, plan voor morgen\n    if (reminderTime < now) {\n      reminderTime.setDate(reminderTime.getDate() + 1);\n    }\n    const timeUntilReminder = reminderTime.getTime() - now.getTime();\n    setTimeout(() => {\n      new Notification('Urenregistratie Herinnering', {\n        body: 'Vergeet niet je uren in te vullen voor vandaag!',\n        icon: '/logo192.png'\n      });\n\n      // Plan voor morgen\n      this.scheduleReminder(time);\n    }, timeUntilReminder);\n  },\n  async cancelReminders() {\n    // In een echte app zouden we hier de geplande notificaties annuleren\n    // Voor nu is dit een placeholder\n    console.log('Herinneringen geannuleerd');\n  }\n};","map":{"version":3,"names":["notificationService","requestPermission","window","console","log","Notification","permission","scheduleReminder","time","hasPermission","hours","minutes","split","map","Number","now","Date","reminderTime","getFullYear","getMonth","getDate","setDate","timeUntilReminder","getTime","setTimeout","body","icon","cancelReminders"],"sources":["/Users/robert.doggers/Desktop/Urenregistratie/src/services/notificationService.ts"],"sourcesContent":["export const notificationService = {\n  async requestPermission(): Promise<boolean> {\n    if (!('Notification' in window)) {\n      console.log('Deze browser ondersteunt geen notificaties');\n      return false;\n    }\n\n    if (Notification.permission === 'granted') {\n      return true;\n    }\n\n    if (Notification.permission !== 'denied') {\n      const permission = await Notification.requestPermission();\n      return permission === 'granted';\n    }\n\n    return false;\n  },\n\n  async scheduleReminder(time: string): Promise<void> {\n    const hasPermission = await this.requestPermission();\n    if (!hasPermission) return;\n\n    const [hours, minutes] = time.split(':').map(Number);\n    const now = new Date();\n    const reminderTime = new Date(\n      now.getFullYear(),\n      now.getMonth(),\n      now.getDate(),\n      hours,\n      minutes\n    );\n\n    // Als de tijd al voorbij is, plan voor morgen\n    if (reminderTime < now) {\n      reminderTime.setDate(reminderTime.getDate() + 1);\n    }\n\n    const timeUntilReminder = reminderTime.getTime() - now.getTime();\n    \n    setTimeout(() => {\n      new Notification('Urenregistratie Herinnering', {\n        body: 'Vergeet niet je uren in te vullen voor vandaag!',\n        icon: '/logo192.png'\n      });\n      \n      // Plan voor morgen\n      this.scheduleReminder(time);\n    }, timeUntilReminder);\n  },\n\n  async cancelReminders(): Promise<void> {\n    // In een echte app zouden we hier de geplande notificaties annuleren\n    // Voor nu is dit een placeholder\n    console.log('Herinneringen geannuleerd');\n  }\n}; "],"mappings":"AAAA,OAAO,MAAMA,mBAAmB,GAAG;EACjC,MAAMC,iBAAiBA,CAAA,EAAqB;IAC1C,IAAI,EAAE,cAAc,IAAIC,MAAM,CAAC,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;MACzD,OAAO,KAAK;IACd;IAEA,IAAIC,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;MACzC,OAAO,IAAI;IACb;IAEA,IAAID,YAAY,CAACC,UAAU,KAAK,QAAQ,EAAE;MACxC,MAAMA,UAAU,GAAG,MAAMD,YAAY,CAACJ,iBAAiB,CAAC,CAAC;MACzD,OAAOK,UAAU,KAAK,SAAS;IACjC;IAEA,OAAO,KAAK;EACd,CAAC;EAED,MAAMC,gBAAgBA,CAACC,IAAY,EAAiB;IAClD,MAAMC,aAAa,GAAG,MAAM,IAAI,CAACR,iBAAiB,CAAC,CAAC;IACpD,IAAI,CAACQ,aAAa,EAAE;IAEpB,MAAM,CAACC,KAAK,EAAEC,OAAO,CAAC,GAAGH,IAAI,CAACI,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,MAAM,CAAC;IACpD,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;IACtB,MAAMC,YAAY,GAAG,IAAID,IAAI,CAC3BD,GAAG,CAACG,WAAW,CAAC,CAAC,EACjBH,GAAG,CAACI,QAAQ,CAAC,CAAC,EACdJ,GAAG,CAACK,OAAO,CAAC,CAAC,EACbV,KAAK,EACLC,OACF,CAAC;;IAED;IACA,IAAIM,YAAY,GAAGF,GAAG,EAAE;MACtBE,YAAY,CAACI,OAAO,CAACJ,YAAY,CAACG,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;IAClD;IAEA,MAAME,iBAAiB,GAAGL,YAAY,CAACM,OAAO,CAAC,CAAC,GAAGR,GAAG,CAACQ,OAAO,CAAC,CAAC;IAEhEC,UAAU,CAAC,MAAM;MACf,IAAInB,YAAY,CAAC,6BAA6B,EAAE;QAC9CoB,IAAI,EAAE,iDAAiD;QACvDC,IAAI,EAAE;MACR,CAAC,CAAC;;MAEF;MACA,IAAI,CAACnB,gBAAgB,CAACC,IAAI,CAAC;IAC7B,CAAC,EAAEc,iBAAiB,CAAC;EACvB,CAAC;EAED,MAAMK,eAAeA,CAAA,EAAkB;IACrC;IACA;IACAxB,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;EAC1C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}